{"ast":null,"code":"import _slicedToArray from \"/Users/rafelolmos/Documents/HookTheBook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/rafelolmos/Documents/HookTheBook/src/components/CardBook/CardBook.js\";\nimport React, { useState, useEffect } from 'react';\nimport { getAllRealTime } from '../../services/database';\nimport { useSelector } from 'react-redux';\nimport './CardBook.scss';\n\nconst CardBook = ({\n  title = '',\n  authors = '',\n  pages = 0,\n  published = '',\n  description = '',\n  image = ''\n}) => {\n  const user = useSelector(state => state.user);\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        bookList = _useState2[0],\n        setBookList = _useState2[1];\n\n  useEffect(() => {\n    getAllRealTime({\n      collection: 'books',\n      filters: {\n        field: 'user',\n        condition: '==',\n        value: user.id\n      },\n      order: 'timestamp',\n      callback: collectionData => {\n        const results = [];\n        collectionData.forEach(document => {\n          const data = document.data();\n          const addedBookDate = new Date(data.timestamp);\n          data.date = addedBookDate.toLocaleDateString();\n          data.time = addedBookDate.toLocaleTimeString();\n          results.push(data);\n          console.log('data: ', data);\n        });\n        setBookList(results);\n      }\n    });\n    console.log(\"TCL: Room -> bookList\", bookList);\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Hola\"); //     <div className = \"mainDiv\">\n  //         <button id=\"detailBook\">\n  //             DETAIL\n  //         </button>\n  //         <div className=\"imageBook\">\n  //             <img src={bookList.image} alt=\"#\"/>                \n  //         </div>\n  //         <div className=\"bookContent\">\n  //             <div className=\"infBook\">\n  //                 <p className=\"title\">Title: {bookList.title}</p>\n  //                 <p className=\"author\">Author: {bookList.authors}</p>\n  //                 <p className=\"published\">Year: {bookList.published}</p>\n  //                 <p className=\"pages\">Pages: {bookList.pages}</p>\n  //             </div>\n  //             {/* <div className=\"trafficLights\">\n  //                 <input type=\"radio\" name=\"optionLights\" value=\"red\" className=\"input-option\" id=\"red\"/>\n  //                 <label htmlFor=\"red\"></label>\n  //                 <label>Available</label>\n  //                 <input type=\"radio\" name=\"optionLights\" value=\"yellow\" className=\"input-option\" id=\"yellow\" />\n  //                 <label htmlFor=\"yellow\"></label>\n  //                 <label>Reserved</label>\n  //                 <input type=\"radio\" name=\"optionLights\" value=\"green\" className=\"input-option\" id=\"green\"/>\n  //                 <label htmlFor=\"green\"></label>\n  //                 <label>Borrowed</label>\n  //             </div> */}\n  //         </div>\n  //     </div>\n  //  );\n};\n\nexport default CardBook;","map":{"version":3,"sources":["/Users/rafelolmos/Documents/HookTheBook/src/components/CardBook/CardBook.js"],"names":["React","useState","useEffect","getAllRealTime","useSelector","CardBook","title","authors","pages","published","description","image","user","state","bookList","setBookList","collection","filters","field","condition","value","id","order","callback","collectionData","results","forEach","document","data","addedBookDate","Date","timestamp","date","toLocaleDateString","time","toLocaleTimeString","push","console","log"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,cAAT,QAA+B,yBAA/B;AACA,SAASC,WAAT,QAA2B,aAA3B;AAEA,OAAO,iBAAP;;AAGA,MAAMC,QAAQ,GAAG,CAAC;AAACC,EAAAA,KAAK,GAAG,EAAT;AAAaC,EAAAA,OAAO,GAAG,EAAvB;AAA2BC,EAAAA,KAAK,GAAG,CAAnC;AAAsCC,EAAAA,SAAS,GAAG,EAAlD;AAAsDC,EAAAA,WAAW,GAAG,EAApE;AAAwEC,EAAAA,KAAK,GAAG;AAAhF,CAAD,KAAyF;AAEtG,QAAMC,IAAI,GAAGR,WAAW,CAAES,KAAD,IAAUA,KAAK,CAACD,IAAjB,CAAxB;;AAFsG,oBAItEX,QAAQ,CAAC,EAAD,CAJ8D;AAAA;AAAA,QAI/Fa,QAJ+F;AAAA,QAIrFC,WAJqF;;AAMtGb,EAAAA,SAAS,CAAC,MAAM;AAGZC,IAAAA,cAAc,CAAC;AACXa,MAAAA,UAAU,EAAE,OADD;AAEXC,MAAAA,OAAO,EAAE;AAAEC,QAAAA,KAAK,EAAE,MAAT;AAAiBC,QAAAA,SAAS,EAAE,IAA5B;AAAkCC,QAAAA,KAAK,EAAER,IAAI,CAACS;AAA9C,OAFE;AAGXC,MAAAA,KAAK,EAAE,WAHI;AAIXC,MAAAA,QAAQ,EAAGC,cAAD,IAAoB;AAC9B,cAAMC,OAAO,GAAG,EAAhB;AACAD,QAAAA,cAAc,CAACE,OAAf,CAAwBC,QAAD,IAAc;AACjC,gBAAMC,IAAI,GAAGD,QAAQ,CAACC,IAAT,EAAb;AACA,gBAAMC,aAAa,GAAG,IAAIC,IAAJ,CAASF,IAAI,CAACG,SAAd,CAAtB;AACAH,UAAAA,IAAI,CAACI,IAAL,GAAYH,aAAa,CAACI,kBAAd,EAAZ;AACAL,UAAAA,IAAI,CAACM,IAAL,GAAYL,aAAa,CAACM,kBAAd,EAAZ;AACAV,UAAAA,OAAO,CAACW,IAAR,CAAaR,IAAb;AACAS,UAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBV,IAAtB;AAEH,SARD;AASAb,QAAAA,WAAW,CAACU,OAAD,CAAX;AAEC;AAjBU,KAAD,CAAd;AAoBAY,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCxB,QAArC;AACD,GAxBM,EAwBJ,EAxBI,CAAT;AA4BA,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAT,CAlCsG,CAoCtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,CAjED;;AAmEA,eAAeT,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getAllRealTime } from '../../services/database';\nimport { useSelector} from 'react-redux';\n\nimport './CardBook.scss'\n\n\nconst CardBook = ({title = '', authors = '', pages = 0, published = '', description = '', image = ''}) => {\n\n    const user = useSelector((state)=> state.user);\n\n    const [bookList, setBookList] = useState([])\n\n    useEffect(() => {\n\n    \n        getAllRealTime({\n            collection: 'books',\n            filters: { field: 'user', condition: '==', value: user.id },\n            order: 'timestamp',\n            callback: (collectionData) => {\n            const results = [];\n            collectionData.forEach((document) => {\n                const data = document.data();\n                const addedBookDate = new Date(data.timestamp);\n                data.date = addedBookDate.toLocaleDateString();\n                data.time = addedBookDate.toLocaleTimeString();\n                results.push(data);\n                console.log('data: ', data);\n    \n            });\n            setBookList(results);\n    \n            }\n        });\n    \n        console.log(\"TCL: Room -> bookList\", bookList)\n      }, [])\n\n\n\n    return ( <div>Hola</div>)\n\n    //     <div className = \"mainDiv\">\n    //         <button id=\"detailBook\">\n    //             DETAIL\n    //         </button>\n    //         <div className=\"imageBook\">\n    //             <img src={bookList.image} alt=\"#\"/>                \n    //         </div>\n    //         <div className=\"bookContent\">\n    //             <div className=\"infBook\">\n    //                 <p className=\"title\">Title: {bookList.title}</p>\n    //                 <p className=\"author\">Author: {bookList.authors}</p>\n    //                 <p className=\"published\">Year: {bookList.published}</p>\n    //                 <p className=\"pages\">Pages: {bookList.pages}</p>\n    //             </div>\n\n    //             {/* <div className=\"trafficLights\">\n    //                 <input type=\"radio\" name=\"optionLights\" value=\"red\" className=\"input-option\" id=\"red\"/>\n    //                 <label htmlFor=\"red\"></label>\n    //                 <label>Available</label>\n    //                 <input type=\"radio\" name=\"optionLights\" value=\"yellow\" className=\"input-option\" id=\"yellow\" />\n    //                 <label htmlFor=\"yellow\"></label>\n    //                 <label>Reserved</label>\n    //                 <input type=\"radio\" name=\"optionLights\" value=\"green\" className=\"input-option\" id=\"green\"/>\n    //                 <label htmlFor=\"green\"></label>\n    //                 <label>Borrowed</label>\n    //             </div> */}\n    //         </div>\n    //     </div>\n    //  );\n}\n \nexport default CardBook\n\n"]},"metadata":{},"sourceType":"module"}