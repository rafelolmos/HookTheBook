{"ast":null,"code":"import _defineProperty from \"/Users/rafelolmos/Documents/HookTheBook/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/rafelolmos/Documents/HookTheBook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/rafelolmos/Documents/HookTheBook/src/pages/MyBooks/MyBooks.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport { getAllRealTime } from '../../services/database';\nimport { useSelector } from 'react-redux';\nimport SearchISBN from '../../components/SearchISBN';\nimport BookISBNSearch from '../../components/AddBookButton/AddBookButton';\nimport './MyBooks.scss';\nimport CardBook from '../../components/CardBook/CardBook';\nimport Layout from '../../Layout';\n\nconst MyBooks = () => {\n  const user = useSelector(state => state.user);\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        bookList = _useState2[0],\n        setBookList = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        valueISBN = _useState4[0],\n        setValueISBN = _useState4[1];\n\n  const handleISBNvalue = ISBNvalue => {\n    setValueISBN(ISBNvalue);\n  };\n\n  useEffect(() => {\n    if (!user) return;\n    getAllRealTime({\n      collection: 'books',\n      filters: {\n        field: 'user',\n        condition: '==',\n        value: user.id\n      },\n      order: 'timestamp',\n      callback: collectionData => {\n        const results = [];\n        collectionData.forEach(document => {\n          const data = _objectSpread({\n            id: document.id\n          }, document.data());\n\n          const addedBookDate = new Date(data.timestamp);\n          data.date = addedBookDate.toLocaleDateString();\n          data.time = addedBookDate.toLocaleTimeString();\n          results.push(data);\n        });\n        setBookList(results);\n      }\n    });\n  }, [user]);\n  return React.createElement(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"My Books\"), React.createElement(\"div\", {\n    className: \"navigation-menu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(SearchISBN, {\n    onPush: handleISBNvalue,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(BookISBNSearch, {\n    valueISBN: valueISBN,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"cardBook-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"window\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, bookList.map((book, i) => React.createElement(CardBook, {\n    key: book.id,\n    book: book,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })))));\n};\n\nexport default MyBooks;","map":{"version":3,"sources":["/Users/rafelolmos/Documents/HookTheBook/src/pages/MyBooks/MyBooks.js"],"names":["React","useState","useEffect","getAllRealTime","useSelector","SearchISBN","BookISBNSearch","CardBook","Layout","MyBooks","user","state","bookList","setBookList","valueISBN","setValueISBN","handleISBNvalue","ISBNvalue","collection","filters","field","condition","value","id","order","callback","collectionData","results","forEach","document","data","addedBookDate","Date","timestamp","date","toLocaleDateString","time","toLocaleTimeString","push","map","book","i"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getAllRealTime } from '../../services/database';\nimport { useSelector} from 'react-redux';\nimport SearchISBN from '../../components/SearchISBN';\nimport BookISBNSearch from '../../components/AddBookButton/AddBookButton';\n\nimport './MyBooks.scss'\n\nimport CardBook from '../../components/CardBook/CardBook';\nimport Layout from '../../Layout';\n\nconst MyBooks = () => {\n\n    const user = useSelector((state)=> state.user);\n\n    const [bookList, setBookList] = useState([])\n\n    const [valueISBN, setValueISBN]= useState('');\n    const handleISBNvalue = (ISBNvalue)=>{\n        setValueISBN(ISBNvalue)\n      }\n\n    useEffect(() => {\n\n        if (!user) return;\n\n        getAllRealTime({\n            collection: 'books',\n            filters: { field: 'user', condition: '==', value: user.id },\n            order: 'timestamp',\n            callback: (collectionData) => {\n            const results = [];\n            collectionData.forEach((document) => {\n                const data = {id: document.id, ...document.data()};\n                const addedBookDate = new Date(data.timestamp);\n                data.date = addedBookDate.toLocaleDateString();\n                data.time = addedBookDate.toLocaleTimeString();\n                results.push(data);\n            });\n            setBookList(results);\n            }\n        });\n      }, [user])\n\n    return (\n        <Layout>\n            <h1>My Books</h1>\n            <div className=\"navigation-menu\">\n                <div><SearchISBN onPush={handleISBNvalue}/></div>\n                <div><BookISBNSearch valueISBN={valueISBN}/></div>  \n            </div>\n            <div className=\"cardBook-container\">\n                <div className=\"window\">\n                {bookList.map((book, i)=>(\n                    <CardBook key={book.id} book={book} />   \n                ))}\n                </div>\n            </div>\n        </Layout>\n     );\n}\n \nexport default MyBooks;"]},"metadata":{},"sourceType":"module"}