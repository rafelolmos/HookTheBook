{"ast":null,"code":"import _slicedToArray from \"/Users/rafelolmos/Documents/HookTheBook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/rafelolmos/Documents/HookTheBook/src/components/Preview/Preview.js\";\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux'; // import uploadFile from '../../services/storage';\n\nimport { addItem } from '../../services/database';\nimport './Preview.scss';\n\nconst Preview = ({\n  title = '',\n  authors = '',\n  pages = 0,\n  published = '',\n  description = '',\n  image = '',\n  bookState = 'available'\n}) => {\n  const user = useSelector(state => state.user);\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        book = _useState2[0],\n        setBook = _useState2[1];\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        hide = _useState4[0],\n        setHide = _useState4[1];\n\n  const handleAddBook = async () => {\n    if (!book) return;\n    const data = {\n      user: user.id,\n      owner: user.name,\n      title,\n      authors,\n      pages,\n      published,\n      description,\n      image,\n      bookState: 'available',\n      //no se m'afegeix al firestore\n      timestamp: +new Date()\n    };\n    const result = await addItem('books', data);\n\n    if (result) {\n      setBook('');\n    }\n\n    setHide(true);\n  };\n\n  if (hide) return null;\n  return React.createElement(\"div\", {\n    className: \"form-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"preview\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: image,\n    alt: \"\",\n    width: \"60px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"book-information\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Title: \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, title)), React.createElement(\"p\", {\n    className: \"author\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Author: \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, authors)), React.createElement(\"p\", {\n    className: \"author\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Pages: \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, pages)), React.createElement(\"p\", {\n    className: \"author\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Year: \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, published))), React.createElement(\"button\", {\n    className: \"addBook\",\n    onClick: handleAddBook,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"HOOK IT!\")));\n};\n\nexport default Preview;","map":{"version":3,"sources":["/Users/rafelolmos/Documents/HookTheBook/src/components/Preview/Preview.js"],"names":["React","useState","useSelector","addItem","Preview","title","authors","pages","published","description","image","bookState","user","state","book","setBook","hide","setHide","handleAddBook","data","id","owner","name","timestamp","Date","result"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useSelector } from 'react-redux'\n\n// import uploadFile from '../../services/storage';\nimport { addItem } from '../../services/database';\n\nimport './Preview.scss';\n\n\nconst Preview = ({title = '', authors = '', pages = 0, published = '', description = '', image = '', bookState = 'available' }) => {\n    const user = useSelector((state)=> state.user)\n\n    const [book, setBook] = useState([]);\n    const [hide, setHide] = useState(true);\n    \n    const handleAddBook = async () => {\n        if (!book) return;\n        \n        \n        const data = {   \n            user: user.id,\n            owner: user.name,\n            title,\n            authors,\n            pages,\n            published,\n            description,\n            image,\n            bookState: 'available', //no se m'afegeix al firestore\n            timestamp: +(new Date())\n        };\n        \n        const result = await addItem('books', data);\n        if (result) {\n            setBook('');\n        }\n        setHide(true)\n    };\n\n    if(hide) return null;\n\n    return ( \n        <div className=\"form-content\">\n            <div className={`preview`}>\n                <img src={image} alt=\"\" width=\"60px\" />\n                <div className=\"book-information\">\n                    <p className=\"title\">Title: <span>{title}</span></p>\n                    <p className=\"author\">Author: <span>{authors}</span></p>\n                    <p className=\"author\">Pages: <span>{pages}</span></p>\n                    <p className=\"author\">Year: <span>{published}</span></p>\n                </div>\n                <button className=\"addBook\" onClick={handleAddBook}>HOOK IT!</button>\n            </div>\n        </div>\n\n     );\n}\n \nexport default Preview;"]},"metadata":{},"sourceType":"module"}