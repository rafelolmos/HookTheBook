{"ast":null,"code":"import _slicedToArray from \"/Users/rafelolmos/Documents/HookTheBook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/rafelolmos/Documents/HookTheBook/src/components/CardBook/CardBook.js\";\nimport React, { useState } from 'react';\nimport { deleteItem, updateItem } from '../../services/database';\nimport { useSelector } from 'react-redux';\nimport './CardBook.scss';\nimport PopUp from '../PopUp';\n\nconst CardBook = ({\n  book\n}) => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        showPopUp = _useState2[0],\n        setShowPopUp = _useState2[1];\n\n  const userLend = useSelector(state => state.user.name);\n  const currentUser = useSelector(state => state.user.id);\n  console.log('currentUser: ', currentUser);\n\n  const handleBookState = async () => {\n    book.bookState = 'Reserved';\n    book.userRequest = userLend;\n    await updateItem('books', book, book.id);\n    console.log('book: ', book);\n  };\n\n  const handleLendBook = async () => {\n    book.bookState = 'Lended';\n    await updateItem('books', book, book.id);\n    console.log('book: ', book);\n  };\n\n  const handleDeleteBook = async () => {\n    await deleteItem('books', book.id);\n  };\n\n  const setPopup = () => {\n    setShowPopUp(true);\n  };\n\n  console.log('currentUser.id: ', currentUser.id);\n  console.log('book.user: ', book.user);\n  console.log('book: ', book);\n  return React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    key: book.timestamp,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"mainDiv\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"imageBook\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"image\",\n    src: book.image,\n    alt: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"bookContent\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"infBook\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"owner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, book.owner), \"'s book\"), React.createElement(\"p\", {\n    className: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Title: \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, book.title)), React.createElement(\"p\", {\n    className: \"author\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Author: \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, book.authors)), React.createElement(\"p\", {\n    className: \"published\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Year: \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, book.published)), React.createElement(\"p\", {\n    className: \"pages\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Pages: \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, book.pages))), React.createElement(\"div\", {\n    className: \"bookState\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Book State: \", book.bookState), currentUser === book.user && React.createElement(\"button\", {\n    className: \"deleteBook\",\n    onClick: handleDeleteBook,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"DELETE IT\"), currentUser === book.user && book.bookState === 'Reserved' && React.createElement(\"button\", {\n    className: \"notAvailableBook\",\n    onClick: handleLendBook,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"LEND IT\"), !book.userRequest && React.createElement(\"div\", {\n    className: \"userRequest\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Who Borrowed?: \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, book.userRequest)), currentUser !== book.user && React.createElement(\"button\", {\n    className: \"changeBookState\",\n    onClick: handleBookState,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"RESERVE IT\")), React.createElement(\"button\", {\n    className: \"detailBook\",\n    onClick: () => setPopup(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"DETAIL\"))), showPopUp && React.createElement(PopUp, {\n    book: book,\n    setClose: setShowPopUp,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }));\n};\n\nexport default CardBook;","map":{"version":3,"sources":["/Users/rafelolmos/Documents/HookTheBook/src/components/CardBook/CardBook.js"],"names":["React","useState","deleteItem","updateItem","useSelector","PopUp","CardBook","book","showPopUp","setShowPopUp","userLend","state","user","name","currentUser","id","console","log","handleBookState","bookState","userRequest","handleLendBook","handleDeleteBook","setPopup","timestamp","image","owner","title","authors","published","pages"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\n\nimport { deleteItem, updateItem } from '../../services/database';\nimport { useSelector } from 'react-redux'\n\nimport './CardBook.scss'\nimport PopUp from '../PopUp';\n\n\nconst CardBook = ({ book }) => {\n    \n    const [showPopUp, setShowPopUp] = useState(false)\n    const userLend = useSelector((state)=> state.user.name);\n    const currentUser = useSelector((state)=> state.user.id);\n    console.log('currentUser: ', currentUser);\n        \n    const handleBookState = async () => {\n\n        book.bookState = 'Reserved';\n        book.userRequest = userLend;\n        await updateItem('books', book,book.id)\n        console.log('book: ', book);\n    }\n\n    const handleLendBook = async () => {\n\n        book.bookState = 'Lended';\n        await updateItem('books', book,book.id)\n        console.log('book: ', book);\n    }\n\n    const handleDeleteBook = async () => {\n        await deleteItem('books', book.id);\n    }\n    \n    const setPopup = () => {\n        setShowPopUp(true)\n    }\n    console.log('currentUser.id: ', currentUser.id);\n    console.log('book.user: ', book.user);\n    console.log('book: ', book);\n\n    return (\n        <div className=\"card\">\n                <div key={book.timestamp}>\n                    <div className=\"mainDiv\">\n                        <div className=\"imageBook\">\n                            <img className=\"image\" src={book.image} alt=\"#\"/>                \n                        </div>\n                        <div className=\"bookContent\">\n                            <div className=\"infBook\">\n                                <p className=\"owner\"><span>{book.owner}</span>'s book</p>\n                                <p className=\"title\">Title: <span>{book.title}</span></p>\n                                <p className=\"author\">Author: <span>{book.authors}</span></p>\n                                <p className=\"published\">Year: <span>{book.published}</span></p>\n                                <p className=\"pages\">Pages: <span>{book.pages}</span></p>\n\n\n                            </div>\n                            <div className=\"bookState\">Book State: {book.bookState}</div>\n                            {currentUser === book.user && <button className=\"deleteBook\" onClick={handleDeleteBook}>DELETE IT</button>}\n                            {currentUser === book.user && book.bookState === 'Reserved' && <button className=\"notAvailableBook\" onClick={handleLendBook}>LEND IT</button>}\n                            {!book.userRequest && <div className=\"userRequest\">Who Borrowed?: <span>{book.userRequest}</span></div>}\n                            {currentUser !== book.user && <button className=\"changeBookState\" onClick={handleBookState}>RESERVE IT</button>}\n                        </div>\n                        <button className=\"detailBook\" onClick={()=>setPopup()}>\n                            DETAIL\n                        </button>\n                    </div>\n                </div>\n                {showPopUp && <PopUp book={book} setClose={setShowPopUp} />}\n        </div>\n    )}\n \nexport default CardBook\n\n"]},"metadata":{},"sourceType":"module"}