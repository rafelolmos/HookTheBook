{"ast":null,"code":"import _slicedToArray from \"/Users/rafelolmos/Documents/HookTheBook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/rafelolmos/Documents/HookTheBook/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport { setUser } from './redux/actions/userActions';\nimport { registerAuthObserver } from './services/auth';\nimport { getItem } from './services/database';\nimport Home from './pages/Home';\nimport About from './pages/About';\nimport MyBookList from './components/MyBookList';\nimport Header from './components/Header/';\nimport SearchISBN from './components/SearchISBN';\nimport BookISBNSearch from './components/AddBookButton/';\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport Layout from './Layout';\n\nfunction App() {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        valueISBN = _useState2[0],\n        setValueISBN = _useState2[1];\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        isLoading = _useState4[0],\n        setIsLoading = _useState4[1];\n  /**\n   * dispatch redux actions (mapDispatchToProps)\n   */\n\n\n  const dispatch = useDispatch();\n  /**\n   * get redux state (mapStateToProps)\n   */\n\n  const user = useSelector(state => state.user);\n\n  const handleISBNvalue = ISBNvalue => {\n    setValueISBN(ISBNvalue);\n  };\n\n  useEffect(() => {\n    const cancelObserver = registerAuthObserver(async user => {\n      console.log(\"TCL: cancelObserver -> user\", user);\n\n      if (user) {\n        const profile = await getItem('profiles', user.uid);\n        console.log(\"TCL: cancelObserver -> profile\", profile);\n\n        if (profile) {\n          // setUserRedux(profile);\n          dispatch(setUser(profile));\n          console.log('profile: ', profile);\n        } else {\n          console.log(\"todavía se está registrando\");\n        }\n      } else {\n        // setUserRedux(null);\n        console.log('null: ', null);\n        dispatch(setUser(null));\n      }\n\n      setIsLoading(false);\n    });\n    return () => {\n      cancelObserver();\n    };\n  }, []); // if (isLoading) return <div>Loading...</div>\n\n  return (// <Layout>\n    React.createElement(React.Fragment, null, React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/signup\",\n      component: Signup,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/login\",\n      component: Login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/\",\n      component: Home,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/about\",\n      component: About,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"HookTheBook - 9788482649665\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(SearchISBN, {\n      onPush: handleISBNvalue,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(BookISBNSearch, {\n      valueISBN: valueISBN,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, isLoading ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Loading...\") : React.createElement(MyBookList, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }))) //</Layout>\n\n  );\n} // const mapDispatchToProps = (dispatch) => {\n//   return {\n//     setUserRedux: (user) => dispatch(setUser(user))\n//   }\n// }\n// export default connect(null, mapDispatchToProps)(App);\n\n\nexport default App;","map":{"version":3,"sources":["/Users/rafelolmos/Documents/HookTheBook/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Switch","Route","connect","useDispatch","useSelector","setUser","registerAuthObserver","getItem","Home","About","MyBookList","Header","SearchISBN","BookISBNSearch","Signup","Login","Layout","App","valueISBN","setValueISBN","isLoading","setIsLoading","dispatch","user","state","handleISBNvalue","ISBNvalue","cancelObserver","console","log","profile","uid"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport { connect, useDispatch, useSelector } from 'react-redux';\n\nimport { setUser } from './redux/actions/userActions';\nimport { registerAuthObserver } from './services/auth';\nimport { getItem } from './services/database';\n\n\nimport Home from './pages/Home';\nimport About from './pages/About';\nimport MyBookList from './components/MyBookList';\nimport Header from './components/Header/';\nimport SearchISBN from './components/SearchISBN';\nimport BookISBNSearch from './components/AddBookButton/';\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport Layout from './Layout';\n\nfunction App() {\n\n  const [valueISBN, setValueISBN]= useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  \n  /**\n   * dispatch redux actions (mapDispatchToProps)\n   */\n  const dispatch = useDispatch()\n  \n  /**\n   * get redux state (mapStateToProps)\n   */\n  const user = useSelector(state => state.user); \n  \n  const handleISBNvalue = (ISBNvalue)=>{\n    setValueISBN(ISBNvalue)\n  }\n\n  useEffect(() => {\n    const cancelObserver = registerAuthObserver(async (user) => {\n      console.log(\"TCL: cancelObserver -> user\", user)\n      if (user) {\n        const profile = await getItem('profiles', user.uid);\n        console.log(\"TCL: cancelObserver -> profile\", profile)\n        if (profile) {\n          // setUserRedux(profile);\n          dispatch(setUser(profile))\n          console.log('profile: ', profile);\n          \n        } else {\n          console.log(\"todavía se está registrando\");\n        }\n      } else {\n        // setUserRedux(null);\n        console.log('null: ', null);\n        dispatch(setUser(null))\n      }\n      setIsLoading(false);\n    })\n\n    return () => {\n      cancelObserver();\n    }\n  }, []);\n\n  // if (isLoading) return <div>Loading...</div>\n  \n  return (\n    // <Layout>\n    <>\n      <Router>\n        <Switch>\n          <Route path=\"/signup\" component={Signup}></Route>\n          <Route path=\"/login\" component={Login}></Route>\n          <Route path=\"/\" component={Home} />\n          <Route path=\"/about\" component={About} />\n          {/* <Route path=\"/header\" component={Header} /> */}\n      \n        </Switch>\n      </Router>\n      <div>HookTheBook - 9788482649665</div>\n      <div><SearchISBN onPush={handleISBNvalue}/></div>\n      <div><BookISBNSearch valueISBN={valueISBN}/></div>\n      <div>{isLoading ? <div>Loading...</div> : <MyBookList />}</div>\n    </>\n    //</Layout>\n  );\n}\n\n// const mapDispatchToProps = (dispatch) => {\n//   return {\n//     setUserRedux: (user) => dispatch(setUser(user))\n//   }\n// }\n\n// export default connect(null, mapDispatchToProps)(App);\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}