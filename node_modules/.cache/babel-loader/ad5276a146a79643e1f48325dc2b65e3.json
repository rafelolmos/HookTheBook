{"ast":null,"code":"import _slicedToArray from \"/Users/rafelolmos/Documents/HookTheBook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/rafelolmos/Documents/HookTheBook/src/pages/MyFriendsBooks/MyFriendsBooks.js\";\nimport React, { useState, useEffect } from 'react';\nimport { getAllRealTime } from '../../services/database';\nimport { useSelector } from 'react-redux';\nimport './MyBooksFriends.scss';\nimport Layout from '../../Layout';\nimport CardBook from '../../components/CardBook/CardBook';\n\nconst MyFriendsBooks = () => {\n  const user = useSelector(state => state.user);\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        bookList = _useState2[0],\n        setBookList = _useState2[1];\n\n  const list = bookList.filter(function (elem) {\n    return elem.id === user;\n  });\n  console.log('list: ', list);\n  useEffect(() => {\n    getAllRealTime({\n      collection: 'books',\n      filters: {\n        field: 'user',\n        condition: '==',\n        value: user.id\n      },\n      //ha de ser differnt de l'usuari\n      order: 'timestamp',\n      callback: collectionData => {\n        const results = [];\n        collectionData.forEach(document => {\n          const data = document.data();\n          const addedBookDate = new Date(data.timestamp);\n          data.date = addedBookDate.toLocaleDateString();\n          data.time = addedBookDate.toLocaleTimeString();\n          results.push(data);\n        });\n        setBookList(results);\n      }\n    });\n  }, [user]);\n  return React.createElement(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"cardBook-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, bookList.map((book, i) => React.createElement(CardBook, {\n    book: book,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }))));\n};\n\nexport default MyFriendsBooks;","map":{"version":3,"sources":["/Users/rafelolmos/Documents/HookTheBook/src/pages/MyFriendsBooks/MyFriendsBooks.js"],"names":["React","useState","useEffect","getAllRealTime","useSelector","Layout","CardBook","MyFriendsBooks","user","state","bookList","setBookList","list","filter","elem","id","console","log","collection","filters","field","condition","value","order","callback","collectionData","results","forEach","document","data","addedBookDate","Date","timestamp","date","toLocaleDateString","time","toLocaleTimeString","push","map","book","i"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,cAAT,QAA+B,yBAA/B;AACA,SAASC,WAAT,QAA2B,aAA3B;AAEA,OAAO,uBAAP;AAEA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,QAAP,MAAqB,oCAArB;;AAGA,MAAMC,cAAc,GAAG,MAAM;AAEzB,QAAMC,IAAI,GAAGJ,WAAW,CAAEK,KAAD,IAAUA,KAAK,CAACD,IAAjB,CAAxB;;AAFyB,oBAIOP,QAAQ,CAAC,EAAD,CAJf;AAAA;AAAA,QAIlBS,QAJkB;AAAA,QAIRC,WAJQ;;AAMzB,QAAMC,IAAI,GAAGF,QAAQ,CAACG,MAAT,CAAgB,UAASC,IAAT,EAAc;AACvC,WAAOA,IAAI,CAACC,EAAL,KAAYP,IAAnB;AACH,GAFY,CAAb;AAIAQ,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBL,IAAtB;AAIAV,EAAAA,SAAS,CAAC,MAAM;AAEZC,IAAAA,cAAc,CAAC;AACXe,MAAAA,UAAU,EAAE,OADD;AAEXC,MAAAA,OAAO,EAAE;AAAEC,QAAAA,KAAK,EAAE,MAAT;AAAiBC,QAAAA,SAAS,EAAE,IAA5B;AAAkCC,QAAAA,KAAK,EAAEd,IAAI,CAACO;AAA9C,OAFE;AAEkD;AAC7DQ,MAAAA,KAAK,EAAE,WAHI;AAIXC,MAAAA,QAAQ,EAAGC,cAAD,IAAoB;AAC9B,cAAMC,OAAO,GAAG,EAAhB;AACAD,QAAAA,cAAc,CAACE,OAAf,CAAwBC,QAAD,IAAc;AACjC,gBAAMC,IAAI,GAAGD,QAAQ,CAACC,IAAT,EAAb;AACA,gBAAMC,aAAa,GAAG,IAAIC,IAAJ,CAASF,IAAI,CAACG,SAAd,CAAtB;AACAH,UAAAA,IAAI,CAACI,IAAL,GAAYH,aAAa,CAACI,kBAAd,EAAZ;AACAL,UAAAA,IAAI,CAACM,IAAL,GAAYL,aAAa,CAACM,kBAAd,EAAZ;AACAV,UAAAA,OAAO,CAACW,IAAR,CAAaR,IAAb;AACH,SAND;AAOAlB,QAAAA,WAAW,CAACe,OAAD,CAAX;AACC;AAdU,KAAD,CAAd;AAgBD,GAlBM,EAkBJ,CAAClB,IAAD,CAlBI,CAAT;AAoBA,SACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCE,QAAQ,CAAC4B,GAAT,CAAa,CAACC,IAAD,EAAOC,CAAP,KACV,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAED,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,CADD,CADJ,CADJ;AASH,CA3CD;;AA6CA,eAAehC,cAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getAllRealTime } from '../../services/database';\nimport { useSelector} from 'react-redux';\n\nimport './MyBooksFriends.scss'\n\nimport Layout from '../../Layout';\nimport CardBook from '../../components/CardBook/CardBook';\n\n\nconst MyFriendsBooks = () => {\n\n    const user = useSelector((state)=> state.user);\n\n    const [bookList, setBookList] = useState([])\n\n    const list = bookList.filter(function(elem){\n        return elem.id === user;\n    })\n    \n    console.log('list: ', list);\n\n\n    \n    useEffect(() => {\n\n        getAllRealTime({\n            collection: 'books',\n            filters: { field: 'user', condition: '==', value: user.id }, //ha de ser differnt de l'usuari\n            order: 'timestamp',\n            callback: (collectionData) => {\n            const results = [];\n            collectionData.forEach((document) => {\n                const data = document.data();\n                const addedBookDate = new Date(data.timestamp);\n                data.date = addedBookDate.toLocaleDateString();\n                data.time = addedBookDate.toLocaleTimeString();\n                results.push(data);\n            });\n            setBookList(results);\n            }\n        });\n      }, [user])\n\n    return ( \n        <Layout>\n            <div className=\"cardBook-container\">\n            {bookList.map((book, i)=>(\n                <CardBook book={book} />\n            ))}\n            </div>\n        </Layout>\n     );\n}\n \nexport default MyFriendsBooks;\n"]},"metadata":{},"sourceType":"module"}