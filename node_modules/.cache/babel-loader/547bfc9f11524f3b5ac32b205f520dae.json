{"ast":null,"code":"import _slicedToArray from \"/Users/rafelolmos/Documents/HookTheBook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/rafelolmos/Documents/HookTheBook/src/pages/MyBooks/MyBooks.js\";\nimport React, { useState } from 'react';\nimport { getAllRealTime } from '../../services/database';\nimport { useSelector } from 'react-redux';\nimport './MyBooks.scss';\nimport CardBook from '../../components/CardBook/CardBook';\n\nconst MyBooks = () => {\n  console.log('entra!!');\n  const user = useSelector(state => state.user);\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        bookList = _useState2[0],\n        setBookList = _useState2[1];\n\n  console.log('bookList: ', bookList);\n  getAllRealTime({\n    collection: 'books',\n    filters: {\n      field: 'user',\n      condition: '==',\n      value: user.id\n    },\n    order: 'timestamp',\n    callback: collectionData => {\n      const results = [];\n      collectionData.forEach(document => {\n        const data = document.data();\n        const addedBookDate = new Date(data.timestamp);\n        data.date = addedBookDate.toLocaleDateString();\n        data.time = addedBookDate.toLocaleTimeString();\n        results.push(data);\n        console.log('data: ', data);\n      });\n      setBookList(results);\n      console.log('setBookList: ', setBookList);\n    }\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(CardBook, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }));\n};\n\nexport default MyBooks;","map":{"version":3,"sources":["/Users/rafelolmos/Documents/HookTheBook/src/pages/MyBooks/MyBooks.js"],"names":["React","useState","getAllRealTime","useSelector","CardBook","MyBooks","console","log","user","state","bookList","setBookList","collection","filters","field","condition","value","id","order","callback","collectionData","results","forEach","document","data","addedBookDate","Date","timestamp","date","toLocaleDateString","time","toLocaleTimeString","push"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,cAAT,QAA+B,yBAA/B;AACA,SAASC,WAAT,QAA2B,aAA3B;AAEA,OAAO,gBAAP;AACA,OAAOC,QAAP,MAAqB,oCAArB;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAClBC,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,QAAMC,IAAI,GAAGL,WAAW,CAAEM,KAAD,IAAUA,KAAK,CAACD,IAAjB,CAAxB;;AAFkB,oBAIcP,QAAQ,CAAC,EAAD,CAJtB;AAAA;AAAA,QAIXS,QAJW;AAAA,QAIDC,WAJC;;AAKlBL,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BG,QAA1B;AAEAR,EAAAA,cAAc,CAAC;AACXU,IAAAA,UAAU,EAAE,OADD;AAEXC,IAAAA,OAAO,EAAE;AAAEC,MAAAA,KAAK,EAAE,MAAT;AAAiBC,MAAAA,SAAS,EAAE,IAA5B;AAAkCC,MAAAA,KAAK,EAAER,IAAI,CAACS;AAA9C,KAFE;AAGXC,IAAAA,KAAK,EAAE,WAHI;AAIXC,IAAAA,QAAQ,EAAGC,cAAD,IAAoB;AAC9B,YAAMC,OAAO,GAAG,EAAhB;AACAD,MAAAA,cAAc,CAACE,OAAf,CAAwBC,QAAD,IAAc;AACjC,cAAMC,IAAI,GAAGD,QAAQ,CAACC,IAAT,EAAb;AACA,cAAMC,aAAa,GAAG,IAAIC,IAAJ,CAASF,IAAI,CAACG,SAAd,CAAtB;AACAH,QAAAA,IAAI,CAACI,IAAL,GAAYH,aAAa,CAACI,kBAAd,EAAZ;AACAL,QAAAA,IAAI,CAACM,IAAL,GAAYL,aAAa,CAACM,kBAAd,EAAZ;AACAV,QAAAA,OAAO,CAACW,IAAR,CAAaR,IAAb;AACAlB,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBiB,IAAtB;AAEH,OARD;AASAb,MAAAA,WAAW,CAACU,OAAD,CAAX;AACAf,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BI,WAA7B;AAEC;AAlBU,GAAD,CAAd;AAqBA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAKH,CAjCD;;AAmCA,eAAeN,OAAf","sourcesContent":["import React, { useState } from 'react';\nimport { getAllRealTime } from '../../services/database';\nimport { useSelector} from 'react-redux';\n\nimport './MyBooks.scss'\nimport CardBook from '../../components/CardBook/CardBook';\n\nconst MyBooks = () => {\n    console.log('entra!!')\n    const user = useSelector((state)=> state.user);\n\n    const [bookList, setBookList] = useState([])\n    console.log('bookList: ', bookList);\n\n    getAllRealTime({\n        collection: 'books',\n        filters: { field: 'user', condition: '==', value: user.id },\n        order: 'timestamp',\n        callback: (collectionData) => {\n        const results = [];\n        collectionData.forEach((document) => {\n            const data = document.data();\n            const addedBookDate = new Date(data.timestamp);\n            data.date = addedBookDate.toLocaleDateString();\n            data.time = addedBookDate.toLocaleTimeString();\n            results.push(data);\n            console.log('data: ', data);\n\n        });\n        setBookList(results);\n        console.log('setBookList: ', setBookList);\n\n        }\n    });\n\n    return (\n        <div>\n            <CardBook />\n        </div>\n     );\n}\n \nexport default MyBooks;"]},"metadata":{},"sourceType":"module"}