{"ast":null,"code":"import _slicedToArray from \"/Users/rafelolmos/Documents/HookTheBook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/rafelolmos/Documents/HookTheBook/src/pages/Home/Home.js\";\nimport React, { useState, useEffect } from 'react';\nimport Layout from '../../Layout';\nimport BookISBNSearch from '../../components/AddBookButton/AddBookButton';\nimport SearchISBN from '../../components/SearchISBN';\nimport MyBookList from '../../components/MyBookList';\n\nconst Home = () => {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        valueISBN = _useState2[0],\n        setValueISBN = _useState2[1];\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        isLoading = _useState4[0],\n        setIsLoading = _useState4[1];\n  /**\n   * dispatch redux actions (mapDispatchToProps)\n   */\n\n\n  const dispatch = useDispatch();\n  /**\n   * get redux state (mapStateToProps)\n   */\n\n  const user = useSelector(state => state.user);\n\n  const handleISBNvalue = ISBNvalue => {\n    setValueISBN(ISBNvalue);\n  };\n\n  useEffect(() => {\n    const cancelObserver = registerAuthObserver(async user => {\n      console.log(\"TCL: cancelObserver -> user\", user);\n\n      if (user) {\n        const profile = await getItem('profiles', user.uid);\n        console.log(\"TCL: cancelObserver -> profile\", profile);\n\n        if (profile) {\n          // setUserRedux(profile);\n          dispatch(setUser(profile));\n          console.log('profile: ', profile);\n        } else {\n          console.log(\"todavía se está registrando\");\n        }\n      } else {\n        // setUserRedux(null);\n        console.log('null: ', null);\n        dispatch(setUser(null));\n      }\n\n      setIsLoading(false);\n    });\n    return () => {\n      cancelObserver();\n    };\n  }, []);\n  return React.createElement(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Home page\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(SearchISBN, {\n    onPush: handleISBNvalue,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(BookISBNSearch, {\n    valueISBN: valueISBN,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, isLoading ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Loading...\") : React.createElement(MyBookList, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  })));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/rafelolmos/Documents/HookTheBook/src/pages/Home/Home.js"],"names":["React","useState","useEffect","Layout","BookISBNSearch","SearchISBN","MyBookList","Home","valueISBN","setValueISBN","isLoading","setIsLoading","dispatch","useDispatch","user","useSelector","state","handleISBNvalue","ISBNvalue","cancelObserver","registerAuthObserver","console","log","profile","getItem","uid","setUser"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,cAAP,MAA2B,8CAA3B;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;;AAEA,MAAMC,IAAI,GAAG,MAAM;AAAA,oBAEkBN,QAAQ,CAAC,EAAD,CAF1B;AAAA;AAAA,QAERO,SAFQ;AAAA,QAEGC,YAFH;;AAAA,qBAGmBR,QAAQ,CAAC,IAAD,CAH3B;AAAA;AAAA,QAGRS,SAHQ;AAAA,QAGGC,YAHH;AAKf;;;;;AAGA,QAAMC,QAAQ,GAAGC,WAAW,EAA5B;AAEA;;;;AAGA,QAAMC,IAAI,GAAGC,WAAW,CAACC,KAAK,IAAIA,KAAK,CAACF,IAAhB,CAAxB;;AAEA,QAAMG,eAAe,GAAIC,SAAD,IAAa;AACnCT,IAAAA,YAAY,CAACS,SAAD,CAAZ;AACD,GAFD;;AAIAhB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMiB,cAAc,GAAGC,oBAAoB,CAAC,MAAON,IAAP,IAAgB;AAC1DO,MAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CR,IAA3C;;AACA,UAAIA,IAAJ,EAAU;AACR,cAAMS,OAAO,GAAG,MAAMC,OAAO,CAAC,UAAD,EAAaV,IAAI,CAACW,GAAlB,CAA7B;AACAJ,QAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8CC,OAA9C;;AACA,YAAIA,OAAJ,EAAa;AACX;AACAX,UAAAA,QAAQ,CAACc,OAAO,CAACH,OAAD,CAAR,CAAR;AACAF,UAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBC,OAAzB;AAED,SALD,MAKO;AACLF,UAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACD;AACF,OAXD,MAWO;AACL;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB,IAAtB;AACAV,QAAAA,QAAQ,CAACc,OAAO,CAAC,IAAD,CAAR,CAAR;AACD;;AACDf,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KAnB0C,CAA3C;AAqBA,WAAO,MAAM;AACXQ,MAAAA,cAAc;AACf,KAFD;AAGD,GAzBQ,EAyBN,EAzBM,CAAT;AA2BA,SACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK,oBAAC,UAAD;AAAY,IAAA,MAAM,EAAEF,eAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAL,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK,oBAAC,cAAD;AAAgB,IAAA,SAAS,EAAET,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAL,CAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAME,SAAS,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAH,GAA2B,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA1C,CAJJ,CADJ;AAQH,CAtDD;;AAwDA,eAAeH,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Layout from '../../Layout';\nimport BookISBNSearch from '../../components/AddBookButton/AddBookButton';\nimport SearchISBN from '../../components/SearchISBN';\nimport MyBookList from '../../components/MyBookList';\n\nconst Home = () => {\n\n    const [valueISBN, setValueISBN]= useState('');\n    const [isLoading, setIsLoading] = useState(true);\n    \n    /**\n     * dispatch redux actions (mapDispatchToProps)\n     */\n    const dispatch = useDispatch()\n    \n    /**\n     * get redux state (mapStateToProps)\n     */\n    const user = useSelector(state => state.user); \n    \n    const handleISBNvalue = (ISBNvalue)=>{\n      setValueISBN(ISBNvalue)\n    }\n  \n    useEffect(() => {\n      const cancelObserver = registerAuthObserver(async (user) => {\n        console.log(\"TCL: cancelObserver -> user\", user)\n        if (user) {\n          const profile = await getItem('profiles', user.uid);\n          console.log(\"TCL: cancelObserver -> profile\", profile)\n          if (profile) {\n            // setUserRedux(profile);\n            dispatch(setUser(profile))\n            console.log('profile: ', profile);\n            \n          } else {\n            console.log(\"todavía se está registrando\");\n          }\n        } else {\n          // setUserRedux(null);\n          console.log('null: ', null);\n          dispatch(setUser(null))\n        }\n        setIsLoading(false);\n      })\n  \n      return () => {\n        cancelObserver();\n      }\n    }, []);\n\n    return (\n        <Layout>\n            <div>Home page</div>\n            <div><SearchISBN onPush={handleISBNvalue}/></div>\n            <div><BookISBNSearch valueISBN={valueISBN}/></div>\n            <div>{isLoading ? <div>Loading...</div> : <MyBookList />}</div>\n        </Layout>\n    )\n}\n \nexport default Home;"]},"metadata":{},"sourceType":"module"}