{"ast":null,"code":"import _slicedToArray from \"/Users/rafelolmos/Documents/HookTheBook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/rafelolmos/Documents/HookTheBook/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport { setUser } from './redux/actions/userActions';\nimport { registerAuthObserver } from './services/auth';\nimport { getItem } from './services/database';\nimport Home from './pages/Home';\nimport About from './pages/About';\nimport MyBookList from './components/MyBookList';\nimport Header from './components/Header/';\nimport SearchISBN from './components/SearchISBN/';\nimport BookISBNSearch from './components/AddBookButton/';\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\n\nfunction App({\n  setUserRedux\n}) {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        valueISBN = _useState2[0],\n        setValueISBN = _useState2[1];\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        isLoading = _useState4[0],\n        setIsLoading = _useState4[1];\n\n  const handleISBNvalue = ISBNvalue => {\n    setValueISBN(ISBNvalue);\n  };\n\n  useEffect(() => {\n    const cancelObserver = registerAuthObserver(async user => {\n      console.log(\"TCL: cancelObserver -> user\", user);\n\n      if (user) {\n        const profile = await getItem('profiles', user.uid);\n        console.log(\"TCL: cancelObserver -> profile\", profile);\n\n        if (profile) {\n          setUserRedux(profile);\n        } else {\n          console.log(\"todavía se está registrando\");\n        }\n      } else {\n        setUserRedux(null);\n      }\n\n      setIsLoading(false);\n    });\n    return () => {\n      cancelObserver();\n    };\n  }, []);\n  if (isLoading) return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Loading...\");\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: \"/signup\",\n    component: Signup,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/login\",\n    component: Login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/\",\n    component: Home,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/\",\n    component: About,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"HookTheBook - 9788482649665\"));\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setUserRedux: user => dispatch(setUser(user))\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(App); //   <div>\n//     <div>HookTheBook - 9788482649665</div>\n//     <div><SearchISBN onPush={handleISBNvalue}/></div>\n//     <div><BookISBNSearch valueISBN={valueISBN}/></div>\n//     <div><MyBookList /></div>\n// </div>","map":{"version":3,"sources":["/Users/rafelolmos/Documents/HookTheBook/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Switch","Route","connect","setUser","registerAuthObserver","getItem","Home","About","MyBookList","Header","SearchISBN","BookISBNSearch","Signup","Login","App","setUserRedux","valueISBN","setValueISBN","isLoading","setIsLoading","handleISBNvalue","ISBNvalue","cancelObserver","user","console","log","profile","uid","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport { connect } from 'react-redux';\n\nimport { setUser } from './redux/actions/userActions';\nimport { registerAuthObserver } from './services/auth';\nimport { getItem } from './services/database';\n\n\nimport Home from './pages/Home';\nimport About from './pages/About';\nimport MyBookList from './components/MyBookList';\nimport Header from './components/Header/';\nimport SearchISBN from './components/SearchISBN/';\nimport BookISBNSearch from './components/AddBookButton/';\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\n\nfunction App({ setUserRedux }) {\n\n  const [valueISBN, setValueISBN]= useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  \n  const handleISBNvalue = (ISBNvalue)=>{\n    setValueISBN(ISBNvalue)\n  }\n\n  useEffect(() => {\n    const cancelObserver = registerAuthObserver(async (user) => {\n      console.log(\"TCL: cancelObserver -> user\", user)\n      if (user) {\n        const profile = await getItem('profiles', user.uid);\n        console.log(\"TCL: cancelObserver -> profile\", profile)\n        if (profile) {\n          setUserRedux(profile);\n          \n        } else {\n          console.log(\"todavía se está registrando\");\n        }\n      } else {\n        setUserRedux(null);\n      }\n      setIsLoading(false);\n    })\n\n    return () => {\n      cancelObserver();\n    }\n  }, []);\n\n  if (isLoading) return <div>Loading...</div>\n\n  \n  return (\n    <div>\n      <Router>\n        <Header />\n        <Switch>\n          <Route path=\"/signup\" component={Signup}></Route>\n          <Route path=\"/login\" component={Login}></Route>\n          <Route path=\"/\" component={Home} />\n          <Route path=\"/\" component={About} />\n        </Switch>\n      </Router>\n      <div>HookTheBook - 9788482649665</div>\n    </div>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setUserRedux: (user) => dispatch(setUser(user))\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(App);\n\n\n        //   <div>\n        //     <div>HookTheBook - 9788482649665</div>\n        //     <div><SearchISBN onPush={handleISBNvalue}/></div>\n        //     <div><BookISBNSearch valueISBN={valueISBN}/></div>\n        //     <div><MyBookList /></div>\n        // </div>\n          "]},"metadata":{},"sourceType":"module"}